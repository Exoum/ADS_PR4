# Поиск ближайших объектов на карте с использованием k-d деревьев

## Описание проекта

Этот проект реализует приложение для поиска ближайших объектов на карте с использованием k-d деревьев. Приложение позволяет находить объекты определенного типа, ближайшие к заданной точке, а также искать объекты в заданной области. Приложение использует реальные данные о городе Красноярске, полученные из открытых API источников.

## Функциональность

- Поиск ближайшего объекта заданного типа к указанной точке
- Поиск объектов в заданной области (в радиусе от точки)
- Фильтрация объектов по типу (магазины, кафе, больницы и т.д.)
- Визуализация карты с объектами и результатами поиска
- Реализация k-d дерева с методами вставки, удаления и поиска в диапазоне
- Интеграция с OpenStreetMap API для получения реальных данных
- Автоматическое определение центра города Красноярск

## Структура проекта

```
.
├── tree.py              # Реализация k-d дерева
├── map_search.py         # Основное приложение для поиска объектов
├── real_map_visual.py     # Визуализация реальной карты Красноярска
├── test_kd_tree.py       # Тесты для k-d дерева
├── main.py               # Основной файл для запуска всего приложения
├── pylintrc              # Конфигурационный файл pylint
├── krasnoyarsk_map.html  # Сгенерированная интерактивная карта Красноярска
└── README.md            # Документация
```

## Установка и запуск

1. Убедитесь, что у вас установлен Python 3.6 или выше
2. Установите необходимые зависимости:
   ```
   pip install folium requests
   ```
3. Для запуска основного приложения:
   ```
   python map_search.py
   ```
4. Для запуска всего приложения через меню:
   ```
   python main.py
   ```
5. Для запуска тестов:
   ```
   python test_kd_tree.py
   ```

## Использование

### Основное приложение (map_search.py)

При запуске `map_search.py` откроется интерактивное меню с возможностью:

1. Поиска ближайшего объекта (от центра города)
2. Поиска объектов в области (от центра города)
3. Поиска ближайшего объекта (ввести координаты)
4. Поиска объектов в области (ввести координаты)
5. Просмотра доступных типов объектов
6. Показа всех объектов на карте

### Управление через main.py

При запуске `python main.py` откроется меню с возможностью:

1. Запустить основное приложение
2. Создать визуализацию реальной карты
3. Запустить тесты
4. Запустить все (приложение + визуализация)
5. Выход

## Реализация k-d дерева

Модуль `tree.py` содержит реализацию k-d дерева со следующими методами:

- `insert(point, data)`: Вставка точки с данными
- `delete(point)`: Удаление точки
- `range_search(min_point, max_point)`: Поиск точек в прямоугольной области
- `nearest_neighbor(target)`: Поиск ближайшего соседа к целевой точке

## Тестирование

Проект включает модульные тесты для k-d дерева в файле `test_kd_tree.py`. Тесты проверяют корректность работы методов вставки, поиска ближайшего соседа и поиска в диапазоне.

Для запуска тестов выполните:
```
python test_kd_tree.py
```

## Проверка кода

Все файлы проекта прошли проверку с помощью pylint с конфигурационным файлом `pylintrc`. При проверке выводится балл качества кода:

```
pylint --rcfile=pylintrc tree.py
pylint --rcfile=pylintrc map_search.py
pylint --rcfile=pylintrc real_map_visual.py
pylint --rcfile=pylintrc test_kd_tree.py
pylint --rcfile=pylintrc main.py
```

Для проверки всех файлов сразу и вывода общего балла:
```
pylint --rcfile=pylintrc *.py
```

## Разработка

Проект соответствует следующим требованиям:

1. Реализация k-d дерева в виде класса с методами вставки, удаления и поиска в диапазоне
2. Поиск ближайшего объекта на карте с использованием k-d деревьев
3. Возможность выбора объектов нужного типа
4. Возможность выбора точки и района поиска
5. Вывод данных о найденном объекте (адрес, расстояние)
6. Визуализация карты, объектов и точки
7. Код проходит проверку pylint с конфигурационным файлом pylintrc
8. Наличие документации к модулям, функциям, классам и методам
9. Наличие аннотации типов